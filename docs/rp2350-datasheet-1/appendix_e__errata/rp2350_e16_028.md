---
source_pdf: rp2350-datasheet-1.pdf
repository: llm_database
chapter: Appendix E: Errata
section: RP2350-E16
pages: 1371-1371
type: technical_spec
generated_at: 2026-02-28T17:22:56.644477+00:00
---

# RP2350-E16

Description
The MSTATUS.MIE bit is a global enable for interrupts that target M-mode. Software generally clears this
momentarily to ensure short critical sections are atomic with respect to interrupt handlers.
The RISC-V privileged ISA specification requires that the interrupt enable flag for a given privilege mode is
treated as 1 when the hart is in a lower privilege mode. In this case, mstatus.mie should be treated as 1
when the core is in U-mode.
Hazard3 doesn’t implement this rule, so entering U-mode with M-mode interrupts disabled results in no
M-mode interrupts being taken. (See upstream commit a84742a.)
Workaround
When returning to U-mode from M-mode via an mret with mstatus.mpp == 0, ensure mstatus.mpie is set, so
that IRQs will be enabled by the return.
Fixed by
Documentation
OTP
RP2350-E16
Reference
RP2350-E16
Summary
USB_OTP_VDD disruption can result in corrupt OTP row read data
Affects
RP2350 A2
Description
The OTP array has a read voltage generated from USB_OTP_VDD using an internal linear regulator. While the
regulator has a "power good" signal, it isn’t sampled outside of the initial power-on reset startup
sequence. External manipulation of USB_OTP_VDD can result in incorrect data being latched during the array
read phase.
The erroneous behaviour includes, but isn’t limited to:
• Latching the previous read cycle data from the array
• One or many bitlines returning zeroes for programmed bits
• Byte-shifted read data
In the case of guarded reads, the first failure mode can result in the guard read check passing and the
guard word also ending up as the read data. If the critical data are the CRIT0/CRIT1 flags, sampled by the
OTP PSM during boot, this can enable Hazard3 debug and disable the Arm cores, which results in a
reversion of the effects of the CRIT1.SECURE_BOOT_ENABLE and CRIT1.DEBUG_DISABLE flags.
Guarded ECC reads aren’t typically vulnerable to corruption of this nature as the guard word is an invalid
ECC word, and bit deletion or byte shifting reliably invalidates the ECC check.
RP2350 A3 incorporates more safeguards against erroneous OTP behaviour. If any of the following
checks fail, the chip is reset back to the start of the OTP PSM stage.
• The OTP regulator OK signal is continuously checked whenever OTP PSM or user accesses are
being performed.
• Bit 0 of the row read address selects either the first or second ROM calibration word (0x333333 or
0xcccccc) for any guarded read, and is validated accordingly.
• Reserved-0 bits in the CRIT0/1 rows are checked as reading 0 in the OTP PSM.
These checks are performed regardless of the security state of the chip. The OTP regulator check may be
masked with bit 2 of the AUXCTRL register.
Credit
Aedan Cullen (see https://github.com/aedancullen/hacking-the-rp2350)
RP2350 Datasheet
OTP
1370

